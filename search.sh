#!/bin/bash

# Author: BUGHUNT3Rar

#Colours
greenColour="\e[0;32m\033[1m"
endColour="\033[0m\e[0m"
redColour="\e[0;31m\033[1m"
blueColour="\e[0;34m\033[1m"
yellowColour="\e[0;33m\033[1m"
purpleColour="\e[0;35m\033[1m"
turquoiseColour="\e[0;36m\033[1m"
grayColour="\e[0;37m\033[1m"

test -f /usr/bin/git
comprobacion_git=$(echo $?)

test -f /usr/bin/searchsploit
comprobacion_searchsploit=$(echo $?)

if test $comprobacion_searchsploit == "0" && test $comprobacion_git == "0"; then

    echo -e "${greenColour}[+] Las Dependencias estan instaladas${endColour}"
    read -p "Inserta el nombre de programa que quieras escanear: " busqueda
    searchsploit $busqueda
    read -p "Inserta el nombre del exploit que deseas descargar: " eleccion
    searchsploit -m $eleccion
else
    echo -e "${purpleColour}[+]${endColour}${yellowColour}Descargando Dependencias${endColour}"
    if test $comprobacion_git != "0"; then
        apt install git -y
    fi
    
    if test $comprobacion_searchsploit != "0"; then
        git clone https://gitlab.com/exploit-database/exploitdb.git && cd exploitdb/ && mv * /usr/bin && cd .. && rm -r exploitdb/
    fi

    read -p "Inserte el nombre del programa que quieras escanear busqueda: " busqueda
    searchsploit $busqueda
    read -p "Inserte el nombre del exploit que deseas descargar: " eleccion
    searchsploit -m $eleccion
fi
